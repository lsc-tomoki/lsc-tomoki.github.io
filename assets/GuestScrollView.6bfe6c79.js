import{a as q}from"./index.7bd829a2.js";import{l as B}from"./index.9e1d58ec.js";import{r as n,o as $,c as U,w as t,a as e,d as w,t as z,e as v,i as N,g as _,b as L,F as S,h as T}from"./index.3684ac31.js";const j={style:{"margin-left":"8px"}},E=v(" Max leve:\xA0\xA0"),H=["innerHTML"],K={__name:"GuestScrollCard",props:{scroll:Object},setup(u){function d(p){if(p==1)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardRedFull.png";if(p==2)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardGreenFull.png";if(p==3)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardBlueFull.png"}return(p,x)=>{const a=n("n-image"),h=n("n-space"),i=n("n-card");return $(),U(i,{style:{height:"100%"},hoverable:"",size:"small"},{header:t(()=>[e(h,{size:0,"item-style":"line-height:2"},{default:t(()=>[e(a,{"preview-disabled":"",height:32,src:d(u.scroll.slot1)},null,8,["src"]),e(a,{"preview-disabled":"",height:32,src:d(u.scroll.slot2)},null,8,["src"]),e(a,{"preview-disabled":"",height:32,src:d(u.scroll.slot3)},null,8,["src"]),w("b",j,z(u.scroll.title),1)]),_:1})]),"header-extra":t(()=>[E,w("b",null,z(u.scroll.maxLevel),1)]),action:t(()=>[v(" \u51FA\u81EA: "+z(u.scroll.access),1)]),default:t(()=>[w("div",{innerHTML:u.scroll.description},null,8,H)]),_:1})}}},O=w("div",null,null,-1),P=w("h2",{style:{"line-height":"1.5"}}," \u70B9\u6211\u5566 ",-1),A=v(" \u{1F448} \u70B9\u70B9\u70B9 "),I=v(" \u4EC5\u989C\u8272 "),J=v(" \u6309\u987A\u5E8F "),Q=v(" \u7B5B\u9009 / \u6E05\u7A7A\u72B6\u6001 "),ee={__name:"GuestScrollView",setup(u){const d=N("$cookies");function p(){o.value=[0,0,0,0],i.value=0,y.length=0,b.value=!0,q({method:"post",baseURL:"https://musicup.love:8443",url:"/guest/scroll",paramsSerializer:function(l){return B.stringify(l,{arrayFormat:"repeat"})},params:{keyWord:f.value,lang:d.get("lang"),pattern:[4,4,4,4],model:k.value?"color":"pattern"}}).then(function(l){y.value=l.data.data.scrolls,b.value=!1})}function x(){f.value="",y.length=0,b.value=!0,q({method:"post",baseURL:"https://musicup.love:8443",url:"/guest/scroll",paramsSerializer:function(l){return B.stringify(l,{arrayFormat:"repeat"})},params:{lang:d.get("lang"),pattern:o.value,model:k.value?"color":"pattern"}}).then(function(l){y.value=l.data.data.scrolls,b.value=!1})}function a(l){if(l==0)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardWhiteEmpty.png";if(l==1)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardRedFull.png";if(l==2)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardGreenFull.png";if(l==3)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardBlueFull.png";if(l==4)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardWhiteFull.png"}function h(l){f.value="",o.value[i.value]=l,i.value=(i.value+1)%4,i.value==1&&(o.value[1]=0,o.value[2]=0,o.value[3]=0),(i.value==3||i.value==0)&&x()}const i=_(0),f=_(""),o=_([4,4,4,4]),k=_(!0),y=_([]),b=_(!0);return x(),o.value=[0,0,0,0],(l,s)=>{const m=n("n-grid-item"),W=n("n-spin"),F=n("n-grid"),g=n("n-button"),c=n("n-image"),C=n("n-space"),G=n("n-switch"),R=n("n-input"),V=n("n-card"),D=n("n-popover"),M=n("n-affix");return $(),L(S,null,[e(F,{"x-gap":"12","y-gap":"12",cols:"100 1:1 640:2 960:3 1280:4 1600:5 1920:6 2240:7 2560:8 2880:9 3200:10 3520:11 3840:12 4160:13 4480:14 4800:15 5120:16"},{default:t(()=>[($(!0),L(S,null,T(y.value,r=>($(),U(m,null,{default:t(()=>[e(K,{scroll:r},null,8,["scroll"])]),_:2},1024))),256)),e(m,{style:{height:"100%",width:"100%"}},{default:t(()=>[e(W,{size:"large",show:b.value,style:{height:"100%",width:"100%"}},{default:t(()=>[O]),_:1},8,["show"])]),_:1})]),_:1}),e(M,{"trigger-bottom":1e4,bottom:0,style:{right:"48px",bottom:"48px"}},{default:t(()=>[e(D,{trigger:"click"},{trigger:t(()=>[e(g,{size:"large",round:"",block:"",strong:"",secondary:"",type:"primary",style:{padding:"24px"}},{default:t(()=>[P]),_:1})]),default:t(()=>[e(V,{size:"small",bordered:!1},{default:t(()=>[e(F,{"x-gap":"12","y-gap":"12",cols:"1","collapsed-row":"4"},{default:t(()=>[e(m,null,{default:t(()=>[e(C,{size:4,"item-style":"line-height:2"},{default:t(()=>[e(g,{text:"",onClick:s[0]||(s[0]=r=>h(4))},{default:t(()=>[e(c,{"preview-disabled":"",height:32,src:a(4)},null,8,["src"])]),_:1}),e(g,{text:"",onClick:s[1]||(s[1]=r=>h(1))},{default:t(()=>[e(c,{"preview-disabled":"",height:32,src:a(1)},null,8,["src"])]),_:1}),e(g,{text:"",onClick:s[2]||(s[2]=r=>h(2))},{default:t(()=>[e(c,{"preview-disabled":"",height:32,src:a(2)},null,8,["src"])]),_:1}),e(g,{text:"",onClick:s[3]||(s[3]=r=>h(3))},{default:t(()=>[e(c,{"preview-disabled":"",height:32,src:a(3)},null,8,["src"])]),_:1}),A]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(C,{size:4,"item-style":"line-height:2"},{default:t(()=>[e(c,{"preview-disabled":"",height:32,src:a(o.value[0])},null,8,["src"]),e(c,{"preview-disabled":"",height:32,src:a(o.value[1])},null,8,["src"]),e(c,{"preview-disabled":"",height:32,src:a(o.value[2])},null,8,["src"]),e(c,{"preview-disabled":"",height:32,src:a(o.value[3])},null,8,["src"]),e(G,{value:k.value,"onUpdate:value":s[4]||(s[4]=r=>k.value=r),round:!1,onClick:s[5]||(s[5]=r=>x())},{checked:t(()=>[I]),unchecked:t(()=>[J]),_:1},8,["value"])]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(R,{size:"large",placeholder:"\u8DE8\u8BED\u8A00\u641C\u7D22, \u5927\u5C0F\u5199\u654F\u611F",value:f.value,"onUpdate:value":s[6]||(s[6]=r=>f.value=r)},null,8,["value"])]),_:1}),e(m,null,{default:t(()=>[e(g,{block:"",size:"large",onClick:s[7]||(s[7]=r=>p())},{default:t(()=>[Q]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{ee as default};
