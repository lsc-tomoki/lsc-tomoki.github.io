import{a as q}from"./index.18087e37.js";import{l as B}from"./index.1586e2f5.js";import{r as n,o as z,c as U,w as l,a as e,d as k,t as d,e as _,i as D,g as f,b as L,F as S,h as H}from"./index.d3363bee.js";const N={style:{"margin-left":"8px"}},j=_(" Max leve:\xA0\xA0"),E=["innerHTML"],K={__name:"GuestScrollCard",props:{scroll:Object},setup(i){function p(h){if(h==1)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardRedFull.png";if(h==2)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardGreenFull.png";if(h==3)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardBlueFull.png"}return(h,x)=>{const a=n("n-image"),m=n("n-space"),u=n("n-card");return z(),U(u,{style:{height:"100%"},hoverable:"",size:"small"},{header:l(()=>[e(m,{size:0,"item-style":"line-height:2"},{default:l(()=>[e(a,{"preview-disabled":"",height:32,src:p(i.scroll.slot1)},null,8,["src"]),e(a,{"preview-disabled":"",height:32,src:p(i.scroll.slot2)},null,8,["src"]),e(a,{"preview-disabled":"",height:32,src:p(i.scroll.slot3)},null,8,["src"]),k("b",N,d(i.scroll.title),1)]),_:1})]),"header-extra":l(()=>[j,k("b",null,d(i.scroll.maxLevel),1)]),action:l(()=>[_(" \u51FA\u81EA: "+d(i.scroll.access),1)]),default:l(()=>[k("div",{innerHTML:i.scroll.description},null,8,E)]),_:1})}}},O=k("div",null,null,-1),P={style:{"line-height":"1.5"}},Q={__name:"GuestScrollView",setup(i){const p=D("$cookies");function h(){r.value=[0,0,0,0],u.value=0,b.length=0,w.value=!0,q({method:"post",baseURL:"https://musicup.love:8443",url:"/guest/scroll",paramsSerializer:function(t){return B.stringify(t,{arrayFormat:"repeat"})},params:{keyWord:y.value,lang:p.get("lang"),pattern:[4,4,4,4],model:$.value?"color":"pattern"}}).then(function(t){b.value=t.data.data.scrolls,w.value=!1})}function x(){y.value="",b.length=0,w.value=!0,q({method:"post",baseURL:"https://musicup.love:8443",url:"/guest/scroll",paramsSerializer:function(t){return B.stringify(t,{arrayFormat:"repeat"})},params:{lang:p.get("lang"),pattern:r.value,model:$.value?"color":"pattern"}}).then(function(t){b.value=t.data.data.scrolls,w.value=!1})}function a(t){if(t==0)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardWhiteEmpty.png";if(t==1)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardRedFull.png";if(t==2)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardGreenFull.png";if(t==3)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardBlueFull.png";if(t==4)return"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/shard/shardWhiteFull.png"}function m(t){y.value="",r.value[u.value]=t,u.value=(u.value+1)%4,u.value==1&&(r.value[1]=0,r.value[2]=0,r.value[3]=0),(u.value==3||u.value==0)&&x()}const u=f(0),y=f(""),r=f([4,4,4,4]),$=f(!0),b=f([]),w=f(!0);return x(),r.value=[0,0,0,0],(t,s)=>{const g=n("n-grid-item"),W=n("n-spin"),F=n("n-grid"),v=n("n-button"),c=n("n-image"),C=n("n-space"),G=n("n-switch"),M=n("n-input"),R=n("n-card"),T=n("n-popover"),V=n("n-affix");return z(),L(S,null,[e(F,{"x-gap":"12","y-gap":"12",cols:"100 1:1 640:2 960:3 1280:4 1600:5 1920:6 2240:7 2560:8 2880:9 3200:10 3520:11 3840:12 4160:13 4480:14 4800:15 5120:16"},{default:l(()=>[(z(!0),L(S,null,H(b.value,o=>(z(),U(g,null,{default:l(()=>[e(K,{scroll:o},null,8,["scroll"])]),_:2},1024))),256)),e(g,{style:{height:"100%",width:"100%"}},{default:l(()=>[e(W,{size:"large",show:w.value,style:{height:"100%",width:"100%"}},{default:l(()=>[O]),_:1},8,["show"])]),_:1})]),_:1}),e(V,{"trigger-bottom":1e4,bottom:0,style:{right:"48px",bottom:"48px"}},{default:l(()=>[e(T,{trigger:"click"},{trigger:l(()=>[e(v,{size:"large",round:"",block:"",strong:"",secondary:"",type:"primary",style:{padding:"24px"}},{default:l(()=>[k("h2",P,d(t.$t("scroll.click")),1)]),_:1})]),default:l(()=>[e(R,{size:"small",bordered:!1},{default:l(()=>[e(F,{"x-gap":"12","y-gap":"12",cols:"1","collapsed-row":"4"},{default:l(()=>[e(g,null,{default:l(()=>[e(C,{size:4,"item-style":"line-height:2"},{default:l(()=>[e(v,{text:"",onClick:s[0]||(s[0]=o=>m(4))},{default:l(()=>[e(c,{"preview-disabled":"",height:32,src:a(4)},null,8,["src"])]),_:1}),e(v,{text:"",onClick:s[1]||(s[1]=o=>m(1))},{default:l(()=>[e(c,{"preview-disabled":"",height:32,src:a(1)},null,8,["src"])]),_:1}),e(v,{text:"",onClick:s[2]||(s[2]=o=>m(2))},{default:l(()=>[e(c,{"preview-disabled":"",height:32,src:a(2)},null,8,["src"])]),_:1}),e(v,{text:"",onClick:s[3]||(s[3]=o=>m(3))},{default:l(()=>[e(c,{"preview-disabled":"",height:32,src:a(3)},null,8,["src"])]),_:1}),_(" "+d(t.$t("scroll.clickMore")),1)]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(C,{size:4,"item-style":"line-height:2"},{default:l(()=>[e(c,{"preview-disabled":"",height:32,src:a(r.value[0])},null,8,["src"]),e(c,{"preview-disabled":"",height:32,src:a(r.value[1])},null,8,["src"]),e(c,{"preview-disabled":"",height:32,src:a(r.value[2])},null,8,["src"]),e(c,{"preview-disabled":"",height:32,src:a(r.value[3])},null,8,["src"]),e(G,{value:$.value,"onUpdate:value":s[4]||(s[4]=o=>$.value=o),round:!1,onClick:s[5]||(s[5]=o=>x())},{checked:l(()=>[_(d(t.$t("scroll.onlyColor")),1)]),unchecked:l(()=>[_(d(t.$t("scroll.ordered")),1)]),_:1},8,["value"])]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(M,{size:"large",placeholder:t.$t("scroll.placeHoder"),value:y.value,"onUpdate:value":s[6]||(s[6]=o=>y.value=o)},null,8,["placeholder","value"])]),_:1}),e(g,null,{default:l(()=>[e(v,{block:"",size:"large",onClick:s[7]||(s[7]=o=>h())},{default:l(()=>[_(d(t.$t("scroll.buttonText")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Q as default};
