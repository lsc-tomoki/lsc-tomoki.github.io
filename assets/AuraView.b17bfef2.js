import{a as B}from"./index.a353cf17.js";import{_ as V,f as b,r as l,o as i,c as x,w as e,a,e as y,t as C,i as L,g as r,b as v,F as w,h as N,d as S}from"./index.40737070.js";const T={props:["aura"],setup(d){return{a:b(d.aura)}}};function $(d,_,o,t,m,u){const n=l("n-image"),s=l("n-space"),h=l("n-card");return i(),x(h,{style:{height:"100%"},title:t.a.title,hoverable:"",size:"small"},{"header-extra":e(()=>[a(n,{lazy:"",height:"32",width:"32",src:t.a.icon_file},null,8,["src"])]),footer:e(()=>[y(C(t.a.en),1)]),default:e(()=>[a(s,{justify:"center"},{default:e(()=>[a(n,{lazy:"",src:t.a.effect_file},null,8,["src"])]),_:1})]),_:1},8,["title"])}const j=V(T,[["render",$]]),A=y("\u5149\u73AF\u56FE\u9274"),D=S("div",null,null,-1),U={__name:"AuraView",setup(d){const _=L("$cookies"),o=r([]),t=r(0),m=r(1),u=r(!1),n=r(!0);function s(){n.value=!0,B({method:"post",baseURL:"https://43.142.184.223:8443",url:"/guest/aura",params:{size:12,page:m.value,lang:_.get("lang")}}).then(function(c){o.value.push(...c.data.data.auras),t.value=c.data.data.length,u.value=!1,!E()&&o.value.length<t.value&&s(),n.value=!1}),m.value++}function h(){if(o.value.length>=t.value||u.value){n.value=!1;return}let c=document.documentElement.scrollTop,f=document.documentElement.clientHeight,g=document.documentElement.scrollHeight;c+f>g-480&&(u.value=!0,s())}addEventListener("scroll",h);function E(){return document.documentElement.scrollHeight-20>document.documentElement.clientHeight}return s(),(c,f)=>{const g=l("n-divider"),p=l("n-grid-item"),H=l("n-spin"),k=l("n-grid");return i(),v(w,null,[a(g,null,{default:e(()=>[A]),_:1}),a(k,{"x-gap":"12","y-gap":"12",cols:"100 240:1 480:2 720:3 960:4 1200:5 1440:6 1680:7 1920:8 2160:9 2400:10 2640:11 2880:12 3120:13 3360:14 3600:15 3840:16 4080:17 4320:18 4560:19 4800:20 5040:21 5280:22"},{default:e(()=>[(i(!0),v(w,null,N(o.value,z=>(i(),x(p,null,{default:e(()=>[a(j,{aura:z},null,8,["aura"])]),_:2},1024))),256)),a(p,{style:{height:"100%",width:"100%"}},{default:e(()=>[a(H,{size:"large",show:n.value,style:{height:"100%",width:"100%"}},{default:e(()=>[D]),_:1},8,["show"])]),_:1})]),_:1})],64)}}};export{U as default};
