import{a as S}from"./index.ecb40de8.js";import{l as _e}from"./index.d5b60ca6.js";import{_ as me,f as ge,r as a,o as c,c as m,k as ve,w as e,a as t,e as s,t as g,l as h,b as k,h as G,d as i,F as B,i as he,g as d,u as y,N as x,m as _}from"./index.26472af9.js";const fe={props:["equip"],setup(V){const f=ge(V.equip);return{equip:f,gotoWiki:()=>{window.open(f.wikiLink,"_blank")}}}},ye=["src"],xe=s(" \xA0 "),be=i("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[i("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[i("path",{d:"M11 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-5"}),i("path",{d:"M10 14L20 4"}),i("path",{d:"M15 4h5v5"})])],-1),ke={key:0,style:{display:"inline-block","text-align":"center",width:"22px"}},we={style:{display:"inline-block","text-align":"center",width:"22px"}},ze=["src"],qe=["innerHTML"],Le=i("img",{src:"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/action/31.png"},null,-1),Te=i("img",{src:"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/action/41.png"},null,-1),Ue=i("img",{src:"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/action/191.png"},null,-1),Ee=i("img",{src:"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/area/OnlyLine.png"},null,-1),He=i("img",{src:"https://music-up-1313372397.cos.ap-shanghai.myqcloud.com/element/rangeLine.png"},null,-1),Re=["innerHTML"],Ce=["src"],Ie=["src"];function Me(V,f,j,o,U,P){const E=a("n-image"),r=a("n-icon"),H=a("n-button"),w=a("n-list-item"),z=a("n-list"),q=a("n-thing"),b=a("n-tag"),L=a("n-space"),I=a("n-text"),O=a("n-popover"),M=a("n-card");return c(),m(M,{style:{height:"100%"},hoverable:"",segmented:{action:!0},size:"small"},ve({default:e(()=>[t(q,null,{avatar:e(()=>[t(E,{lazy:"","preview-disabled":"",src:o.equip.gfx},null,8,["src"])]),header:e(()=>[s(g(o.equip.title),1)]),description:e(()=>[s(" Lv: "+g(o.equip.level),1)]),"header-extra":e(()=>[i("img",{src:o.equip.typeIcon},null,8,ye),xe,t(H,{size:"small",text:"",onClick:o.gotoWiki},{default:e(()=>[t(r,{size:"24"},{default:e(()=>[be]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[t(z,null,{default:e(()=>[(c(!0),k(B,null,G(o.equip.effects,p=>(c(),m(w,{style:{padding:"4px"}},{default:e(()=>[p.actionId!=304?(c(),k("div",ke,[i("div",we,[i("img",{style:{"text-align":"center","vertical-align":"middle"},src:p.icon},null,8,ze)])])):h("",!0),i("div",{style:{display:"inline-block","margin-left":"8px","vertical-align":"middle"},innerHTML:p.description},null,8,qe)]),_:2},1024))),256))]),_:1})]),_:1})]),_:2},[o.equip.use!=null&&o.equip.use.useEffects.length>0?{name:"action",fn:e(()=>[t(L,{justify:"space-between",size:"small"},{default:e(()=>[t(L,{size:"small"},{default:e(()=>[o.equip.use.ap!=0?(c(),m(b,{key:0},{icon:e(()=>[t(r,null,{default:e(()=>[Le]),_:1})]),default:e(()=>[s(" "+g(o.equip.use.ap),1)]),_:1})):h("",!0),o.equip.use.mp!=0?(c(),m(b,{key:1},{icon:e(()=>[t(r,null,{default:e(()=>[Te]),_:1})]),default:e(()=>[s(" "+g(o.equip.use.mp),1)]),_:1})):h("",!0),o.equip.use.wp!=0?(c(),m(b,{key:2},{icon:e(()=>[t(r,null,{default:e(()=>[Ue]),_:1})]),default:e(()=>[s(" "+g(o.equip.use.wp),1)]),_:1})):h("",!0)]),_:1}),t(L,{justify:"end",size:"small"},{default:e(()=>[o.equip.use.onlyLine==!0?(c(),m(b,{key:0},{icon:e(()=>[t(r,{size:"20"},{default:e(()=>[Ee]),_:1})]),_:1})):h("",!0),t(b,null,{icon:e(()=>[t(r,{size:"24"},{default:e(()=>[He]),_:1})]),default:e(()=>[s(g(o.equip.use.minRange)+" ",1),o.equip.use.minRange!=o.equip.use.maxRange?(c(),m(I,{key:0},{default:e(()=>[s(" ~ "+g(o.equip.use.maxRange),1)]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1}),t(z,null,{default:e(()=>[(c(!0),k(B,null,G(o.equip.use.useEffects,p=>(c(),m(w,{style:{padding:"4px"}},{default:e(()=>[i("div",{style:{display:"inline-block","margin-left":"8px","vertical-align":"middle"},innerHTML:p.description},null,8,Re),p.sizeToolTip!=null?(c(),m(O,{key:0,trigger:"hover"},{trigger:e(()=>[p.sizeIcon!=null?(c(),k("img",{key:0,style:{"margin-left":"8px","vertical-align":"middle"},src:p.sizeIcon},null,8,Ce)):h("",!0)]),default:e(()=>[s(" "+g(p.sizeToolTip),1)]),_:2},1024)):h("",!0),p.sizeIcon!=null&&p.sizeToolTip==null?(c(),k("img",{key:1,style:{"margin-left":"8px","vertical-align":"middle"},src:p.sizeIcon},null,8,Ie)):h("",!0)]),_:2},1024))),256))]),_:1})])}:void 0]),1024)}const Ae=me(fe,[["render",Me]]),Ne=i("div",null,null,-1),Se=s(" \u6C83\u6C83\u67E5 "),Be=s("\u8DE8\u8BED\u8A00\u641C\u7D22"),Ve=s("\u5927\u5C0F\u5199\u5076\u5C14\u654F\u611F"),je=i("br",null,null,-1),Oe=s("\u95ED\u533A\u95F4"),We=i("br",null,null,-1),De=s("\\ "),Fe=s("\u5168\u4E0D\u9009 = \u5168\u9009"),$e=i("br",null,null,-1),Ge=s("\u5168\u4E0D\u9009 = \u5168\u9009"),Pe=i("br",null,null,-1),Je=s("\u5F00: \u53D6\u6240\u6709"),Ke=s("\u5173: \u53D6\u4EFB\u4E00"),Qe=s(" \u4EA4 "),Xe=s(" \u5E76 "),Ye=i("br",null,null,-1),Ze=i("h3",null,"\u7B5B\u9009",-1),et=i("h2",{style:{"line-height":"1.5"}}," \u6233\u6211\u6478\u6211 ",-1),at={__name:"GuestEquipmentView",setup(V){const f=he("$cookies"),j=Math.min(document.documentElement.clientWidth,800);function o(n){if(n[0]>n[1]){let l=n[0];n[0]=n[1],n[1]=l}}function U(){N.value=!0,o(r.value),S({method:"post",baseURL:"https://musicup.love:8443",url:"public/equipment/filter",paramsSerializer:function(n){return _e.stringify(n,{arrayFormat:"repeat"})},params:{size:12,page:$.value,lang:f.get("lang"),title:E.value,minLevel:r.value[0],maxLevel:r.value[1],rarities:H.value,types:w.value,actions:z.value,logic:W.value?"intersection":"union"}}).then(function(n){T.value.push(...n.data.data.equipments),A.value=n.data.data.length,F.value=!1,!le()&&T.value.length<A.value&&U(),N.value=!1}),$.value++}function P(){$.value=1,T.value.length=0,U()}const E=d(""),r=d([0,230]),H=d([]),w=d([]),z=d([]),q=d(!1),b=()=>{q.value=!0},L=()=>{q.value=!1},I=d([]);function O(){S({method:"post",baseURL:"https://musicup.love:8443",url:"/public/rarity/options",params:{lang:f.get("lang")}}).then(function(n){I.value=n.data.data.rarityOptions})}O();const M=d([]);function p(){S({method:"post",baseURL:"https://musicup.love:8443",url:"/public/equipment_type/options",params:{lang:f.get("lang")}}).then(function(n){M.value=n.data.data.equipmentTypeOptions})}p();const J=d([]);function ee(){S({method:"post",baseURL:"https://musicup.love:8443",url:"/public/action/options",params:{lang:f.get("lang")}}).then(function(n){J.value=n.data.data.actionOptions})}ee();const W=d(!0),D=({option:n,handleClose:l})=>_(x,{style:{padding:"4px"},closable:!0,onClose:v=>{v.stopPropagation(),l()}},{default:()=>_("div",{size:"large",style:{display:"flex",alignItems:"center"}},[_("img",{src:n.icon,style:{padding:"4px",marginRight:"2px"}},null),n.label])}),te=n=>_("div",{style:{display:"flex",alignItems:"center"}},[_("img",{src:n.icon}),_("div",{style:{marginLeft:"12px",padding:"4px 0"}},[_("div",null,[n.label])])]),K=(n,l,v)=>_("div",{style:{display:"flex",alignItems:"center"}},[_("div",{style:{display:"inline-block",textAlign:"center",width:"22px"}},[_("img",{src:n.option.icon,style:{textAlign:"center",verticalAlign:"middle"}})]),_("div",{style:{marginLeft:"8px",padding:"4px 0"}},[_("div",null,[n.option.label])])]),F=d(!1),$=d(1),T=d([]),A=d(0),N=d(!0);function ne(){if(T.value.length>=A.value||F.value){N.value=!1;return}let n=document.documentElement.scrollTop,l=document.documentElement.clientHeight,v=document.documentElement.scrollHeight;n+l>v-480&&(F.value=!0,U())}addEventListener("scroll",ne);function le(){return document.documentElement.scrollHeight-20>document.documentElement.clientHeight}return U(),(n,l)=>{const v=a("n-grid-item"),ae=a("n-spin"),Q=a("n-grid"),ie=a("n-input"),R=a("n-space"),C=a("n-card"),oe=a("n-slider"),X=a("n-input-number"),se=a("n-select"),Y=a("n-tree-select"),ue=a("n-switch"),Z=a("n-button"),ce=a("n-drawer-content"),re=a("n-drawer"),de=a("n-tooltip"),pe=a("n-affix");return c(),k(B,null,[t(Q,{"x-gap":"12","y-gap":"12",cols:"100 1:1 640:2 960:3 1280:4 1600:5 1920:6 2240:7 2560:8 2880:9 3200:10 3520:11 3840:12 4160:13 4480:14 4800:15 5120:16"},{default:e(()=>[(c(!0),k(B,null,G(T.value,u=>(c(),m(v,null,{default:e(()=>[t(Ae,{equip:u},null,8,["equip"])]),_:2},1024))),256)),t(v,{style:{height:"100%",width:"100%"}},{default:e(()=>[t(ae,{size:"large",show:N.value,style:{height:"100%",width:"100%"}},{default:e(()=>[Ne]),_:1},8,["show"])]),_:1})]),_:1}),t(re,{show:q.value,"onUpdate:show":l[9]||(l[9]=u=>q.value=u),"default-width":y(j),resizable:"","on-mask-click":L,"auto-focus":!1},{default:e(()=>[t(ce,{title:"\u7B5B\u9009",closable:""},{header:e(()=>[Se]),default:e(()=>[t(C,{title:"\u540D\u79F0",size:"small"},{"header-extra":e(()=>[t(R,{size:"small"},{default:e(()=>[t(y(x),null,{default:e(()=>[Be]),_:1}),t(y(x),null,{default:e(()=>[Ve]),_:1})]),_:1})]),default:e(()=>[t(ie,{value:E.value,"onUpdate:value":l[0]||(l[0]=u=>E.value=u),type:"text"},null,8,["value"])]),_:1}),je,t(C,{title:"\u7B49\u7EA7",size:"small"},{"header-extra":e(()=>[t(R,{size:"small"},{default:e(()=>[t(y(x),null,{default:e(()=>[Oe]),_:1})]),_:1})]),default:e(()=>[t(oe,{value:r.value,"onUpdate:value":l[1]||(l[1]=u=>r.value=u),range:"",min:0,max:230,placement:"top",marks:{0:"0",80:"80",110:"110",170:"170",200:"200",230:"230"}},null,8,["value"]),t(Q,{cols:"2"},{default:e(()=>[t(v,null,{default:e(()=>[t(X,{value:r.value[0],"onUpdate:value":l[2]||(l[2]=u=>r.value[0]=u),size:"small",min:0,max:230},null,8,["value"])]),_:1}),t(v,null,{default:e(()=>[t(X,{value:r.value[1],"onUpdate:value":l[3]||(l[3]=u=>r.value[1]=u),size:"small",min:0,max:230},null,8,["value"])]),_:1})]),_:1})]),_:1}),We,t(C,{title:"\u7A00\u6709\u5EA6",size:"small"},{"header-extra":e(()=>[t(R,{size:"small"},{default:e(()=>[t(y(x),null,{default:e(()=>[Fe]),_:1})]),_:1})]),default:e(()=>[t(se,{multiple:"",clearable:"",size:"large",value:H.value,"onUpdate:value":l[4]||(l[4]=u=>H.value=u),options:I.value,"render-label":te,"render-tag":D},{default:e(()=>[De]),_:1},8,["value","options"])]),_:1}),$e,t(C,{title:"\u90E8\u4F4D",size:"small"},{"header-extra":e(()=>[t(R,{size:"small"},{default:e(()=>[t(y(x),null,{default:e(()=>[Ge]),_:1})]),_:1})]),default:e(()=>[t(Y,{multiple:"",clearable:"",filterable:"",cascade:"",checkable:"",size:"large","show-path":!1,"expand-trigger":n.click,"check-strategy":"parent",value:w.value,"onUpdate:value":l[5]||(l[5]=u=>w.value=u),options:M.value,"render-label":K,"render-tag":D},null,8,["expand-trigger","value","options"])]),_:1}),Pe,t(C,{title:"\u5C5E\u6027",size:"small"},{"header-extra":e(()=>[t(R,{size:"small"},{default:e(()=>[t(y(x),null,{default:e(()=>[Je]),_:1}),t(y(x),null,{default:e(()=>[Ke]),_:1}),t(ue,{value:W.value,"onUpdate:value":l[7]||(l[7]=u=>W.value=u),round:!1},{checked:e(()=>[Qe]),unchecked:e(()=>[Xe]),_:1},8,["value"])]),_:1})]),default:e(()=>[t(Y,{multiple:"",clearable:"",filterable:"",cascade:"",checkable:"",size:"large","show-path":!1,"expand-trigger":n.click,"check-strategy":"children",options:J.value,value:z.value,"onUpdate:value":l[6]||(l[6]=u=>z.value=u),"render-label":K,"render-tag":D},null,8,["expand-trigger","options","value"])]),_:1}),Ye,t(Z,{block:"",size:"large",onClick:l[8]||(l[8]=u=>{P(),L()})},{default:e(()=>[Ze]),_:1})]),_:1})]),_:1},8,["show","default-width"]),t(pe,{"trigger-bottom":1e4,bottom:0,style:{right:"48px",bottom:"48px"}},{default:e(()=>[t(de,{trigger:"hover"},{trigger:e(()=>[t(Z,{size:"large",onClick:b,round:"",block:"",strong:"",secondary:"",type:"primary",style:{padding:"24px"}},{default:e(()=>[et]),_:1})]),default:e(()=>[s(" \u5DF2\u52A0\u8F7D "+g(T.value.length)+" / "+g(A.value)+" \u4EF6 ",1)]),_:1})]),_:1})],64)}}};export{at as default};
