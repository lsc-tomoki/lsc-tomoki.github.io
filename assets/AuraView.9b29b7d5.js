import{a as E}from"./index.8b00ac44.js";import{_ as H,f as k,r as n,o as d,c as f,w as t,a as l,e as z,t as B,i as V,g as r,b,h as C,F as L,d as N}from"./index.fcfe72ed.js";const S={props:["aura"],setup(_){return{a:k(_.aura)}}};function T(_,m,o,e,h,u){const a=n("n-image"),s=n("n-space"),g=n("n-card");return d(),f(g,{style:{height:"100%"},title:e.a.title,hoverable:"",size:"small"},{"header-extra":t(()=>[l(a,{lazy:"",height:"32",width:"32",src:e.a.icon_file},null,8,["src"])]),footer:t(()=>[z(B(e.a.en),1)]),default:t(()=>[l(s,{justify:"center"},{default:t(()=>[l(a,{lazy:"",src:e.a.effect_file},null,8,["src"])]),_:1})]),_:1},8,["title"])}const $=H(S,[["render",T]]),j=N("div",null,null,-1),F={__name:"AuraView",setup(_){const m=V("$cookies"),o=r([]),e=r(0),h=r(1),u=r(!1),a=r(!0);function s(){a.value=!0,E({method:"post",baseURL:"https://musicup.love:8443",url:"/guest/aura",params:{size:12,page:h.value,lang:m.get("lang")}}).then(function(c){o.value.push(...c.data.data.auras),e.value=c.data.data.length,u.value=!1,!v()&&o.value.length<e.value&&s(),a.value=!1}),h.value++}function g(){if(o.value.length>=e.value||u.value){a.value=!1;return}let c=document.documentElement.scrollTop,p=document.documentElement.clientHeight,i=document.documentElement.scrollHeight;c+p>i-480&&(u.value=!0,s())}addEventListener("scroll",g);function v(){return document.documentElement.scrollHeight-20>document.documentElement.clientHeight}return s(),(c,p)=>{const i=n("n-grid-item"),w=n("n-spin"),x=n("n-grid");return d(),f(x,{"x-gap":"12","y-gap":"12",cols:"100 1:1 480:2 720:3 960:4 1200:5 1440:6 1680:7 1920:8 2160:9 2400:10 2640:11 2880:12 3120:13 3360:14 3600:15 3840:16 4080:17 4320:18 4560:19 4800:20 5040:21 5280:22"},{default:t(()=>[(d(!0),b(L,null,C(o.value,y=>(d(),f(i,null,{default:t(()=>[l($,{aura:y},null,8,["aura"])]),_:2},1024))),256)),l(i,{style:{height:"100%",width:"100%"}},{default:t(()=>[l(w,{size:"large",show:a.value,style:{height:"100%",width:"100%"}},{default:t(()=>[j]),_:1},8,["show"])]),_:1})]),_:1})}}};export{F as default};
